# System
user: drucker
codename: jessie
name: web
tld: local
home: /home/{{ user }}
hosts_file: /etc/hosts
sources_list: /etc/apt/sources.list
sources_list_d: "{{ sources_list }}.d"
bashrc: "{{ home }}/.bashrc"
bash_aliases: "{{ home }}/.bash_aliases"
download_dir: /tmp

# Source files
source_file_dir: files
git_completion_source_file: "{{ source_file_dir }}/.git-completion.bash"
git_prompt_source_file: "{{ source_file_dir }}/.git-prompt.sh"
git_config_source_file: "{{ source_file_dir }}/.gitconfig"
apache_template_source_file: "{{ source_file_dir }}/apache-template.conf"
phpunit_source_file: "{{ source_file_dir }}/phpunit.xml"
gitignore_source_file: "{{ source_file_dir }}/.gitignore"
composer_json_source_file: "{{ source_file_dir }}/composer.json"
composer_json_template_file: "{{ source_file_dir }}/composer-template.json"
nginx_template_source_file: "{{ source_file_dir }}/nginx-template.conf"
varnish_conf_source_file: "{{ source_file_dir }}/varnish"
varnish_default_vcl_source_file: "{{ source_file_dir }}/default.vcl"
bash_aliases_source_file: "{{ source_file_dir }}/.bash_aliases"
vimrc_source_file: "{{ source_file_dir }}/.vimrc"
fastcgi_source_file: "{{ source_file_dir }}/fastcgi.conf"
sources_list_source_file: "{{ source_file_dir }}/sources.list"


# Source directories
ssl_source_dir: "{{ source_file_dir }}/ssl"
vim_source_dir: "{{ source_file_dir }}/.vim"
solr_conf: "{{ source_file_dir }}/solr-conf-6.x/"

# Git
git_repo_directory: "{{ www_dir }}/repo"
git_completion: "{{ home }}/.git-completion.bash"
git_prompt: "{{ home }}/.git-prompt.sh"
git_config: "{{ home }}/.gitconfig"
bash_git_prompt: "{{ home }}/.bash-git-prompt"
bash_git_prompt_stable_version: 2.6.2
bash_git_prompt_download_link: https://github.com/magicmonty/bash-git-prompt/archive/{{ bash_git_prompt_stable_version }}.tar.gz
bash_git_prompt_archive_path: "{{ download_dir }}/bash-git-prompt-{{ bash_git_prompt_stable_version }}.tar.gz"
bash_git_prompt_temp_path: "{{ download_dir }}/bash-git-prompt-{{ bash_git_prompt_stable_version }}"

# VIM
vim_dir: "{{ home }}/.vim"
vimrc: "{{ home }}/.vimrc"

# SSH
sshd_config: /etc/ssh/sshd_config
id_rsa: "{{ home }}/.ssh/id_rsa"
id_rsa_pub: "{{ home }}/.ssh/id_rsa.pub"

# Networking
gateway_ip: 203.0.113.254
web_ip: 203.0.113.10
db_ip: 203.0.113.12
search_ip: 203.0.113.13

# Apache
apache_user: www-data
apache2_dir: /etc/apache2
www_dir: /var/www
webroot: "{{ www_dir }}/html"
sites_available: "{{ apache2_dir }}/sites-available"
sites_enabled: "{{ apache2_dir }}/sites-enabled"
mods_available: "{{ apache2_dir }}/mods-available"
mods_enabled: "{{ apache2_dir }}/mods-enabled"
conf_available: "{{ apache2_dir }}/conf-available"
apache_security_conf: "{{ conf_available }}/security.conf"
apache_envvars: "{{ apache2_dir }}/envvars"
apache_ssl_mod: "{{ mods_available }}/ssl.conf"
apache_actions_mod: "{{ mods_enabled }}/actions.load"
apache_rewrite_mod: "{{ mods_enabled }}/rewrite.load"
apache_proxy_http_mod: "{{ mods_enabled }}/proxy_http.load"
apache_php_mod: "{{ mods_available }}/php{{ php_version }}.conf"
apache_fastcgi_conf: "{{ mods_available }}/fastcgi.conf"
apache_fastcgi_mod: "{{ mods_enabled }}/fastcgi.load"

# vHosts
default_available_vhost: "{{ sites_available }}/000-default.conf"
default_vhost: "{{ sites_enabled }}/000-default.conf"
vhost_template: "{{ sites_available }}/apache-template.conf"
drucker_conf: "{{ sites_available }}/{{ user }}.conf"
phpmyadmin_available_vhost: "{{ sites_available }}/phpmyadmin.conf"
phpmyadmin_vhost: "{{ sites_enabled }}/phpmyadmin.conf"
adminer_available_vhost: "{{ sites_available }}/adminer.conf"
adminer_vhost: "{{ sites_enabled }}/adminer.conf"
drucker_available_vhost: "{{ sites_available }}/{{ user }}.conf"
drucker_vhost: "{{ sites_enabled }}/{{ user }}.conf"
imported_site_vhost: "{{ sites_enabled }}/{{ sitename }}.conf"
imported_site_available_vhost: "{{ sites_available }}/{{ sitename }}.conf"

# PHP
php_version: 7.1
php_extensions: /usr/lib/php/{{ php_version }}/20131226
user_programs_path: /usr/local/bin
sury_gpg: https://packages.sury.org/php/apt.gpg
sury_deb: deb https://packages.sury.org/php/ {{ codename }} main
apcu_stable_release: 5.1.8
php_memcached_stable_release: 3.0.3

# php.ini
php_ini: /etc/php/{{ php_version }}/fpm/php.ini
php_ini_cli: /etc/php/{{ php_version }}/cli/php.ini
max_input_time: 300
max_execution_time: 300
memory_limit: 256M
upload_max_filesize: 100M
max_file_uploads: 100
post_max_size: 100M
opcache_max_accelerated_files: 4000
timezone: UTC

# PECL Upload Progress
uploadprogress_release: master
uploadprogress_download_link: https://github.com/php/pecl-php-uploadprogress/archive/{{ uploadprogress_release }}.zip
uploadprogress_temp_path: "{{ download_dir }}/pecl-php-uploadprogress-{{ uploadprogress_release}}"
uploadprogress_archive: "{{ uploadprogress_temp_path }}.zip"
uploadprogress_extension_name: uploadprogress.so
uploadprogress_extension_path: "{{ php_extensions }}/{{ uploadprogress_extension_name }}"

# Composer
composer_stable_release: 1.3.3
composer_download_link: https://getcomposer.org/download/{{ composer_stable_release }}/composer.phar
composer_binary: "{{ user_programs_path }}/composer"
composer_dir_path: "{{ home }}/.composer"
composer_json_path: "{{ home }}/.composer/composer.json"
composer_json_template_temp_filename: "{{ webroot }}/composer-template.json"
composer_json_expected_filename: "{{ webroot }}/composer.json"

# XDebug
xdebug_stable_release: 2.5.3
xdebug_download_link: http://xdebug.org/files/xdebug-{{ xdebug_stable_release }}.tgz
xdebug_extension_name: xdebug.so
xdebug_extension_path: "{{ php_extensions }}/{{ xdebug_extension_name }}"
xdebug_archive_path: "{{ download_dir }}/xdebug-{{ xdebug_stable_release }}.tgz"
xdebug_remote_host: "{{ gateway_ip }}"
# This is temporary until there's a stable 2.5.0 release.
xdebug_unarchived_path: "{{ download_dir }}/xdebug-{{ xdebug_stable_release }}"

# LibYAML
libyaml_stable_release: 0.1.7
libyaml_download_link: http://pyyaml.org/download/libyaml/yaml-{{ libyaml_stable_release }}.tar.gz
libyaml_temp_path: "{{ download_dir }}/yaml-{{ libyaml_stable_release }}"
libyaml_archive_path: "{{ libyaml_temp_path }}.tar.gz"

# PECL YAML
pecl_yaml_stable_release: 2.0.0
pecl_yaml_download_link: https://github.com/php/pecl-file_formats-yaml/archive/{{ pecl_yaml_stable_release }}.tar.gz
pecl_yaml_extension_name: yaml.so
pecl_yaml_extension_path: "{{ php_extensions }}/{{ pecl_yaml_extension_name }}"
pecl_yaml_temp_path: "{{ download_dir }}/pecl-file_formats-yaml-{{ pecl_yaml_stable_release }}"
pecl_yaml_archive: "{{ pecl_yaml_temp_path }}.tar.gz"

# Tideways
tideways_stable_release: 4.1.2
tideways_download_link: https://github.com/tideways/php-profiler-extension/archive/v{{ tideways_stable_release }}.tar.gz
tideways_archive: "{{ download_dir }}/php-profiler-extension-{{ tideways_stable_release }}.tar.gz"
tideways_extension_name: tideways.so
tideways_extension_path: "{{ php_extensions }}/{{ tideways_extension_name }}"
tideways_output_dir: "{{ download_dir }}/tideways/"
tideways_temp_dir: "{{ download_dir }}/php-profiler-extension-{{ tideways_stable_release }}"

# Coder
coder_stable_release: 8.2.12
coder_composer_package: drupal/coder
coder_binary: "{{ composer_dir_path }}/vendor/drupal/coder"

# PHPcs
phpcs_stable_release: 2.6.1
phpcs_download_link: https://github.com/squizlabs/PHP_CodeSniffer/releases/download/{{ phpcs_stable_release }}/phpcs.phar
phpcs_binary: "{{ user_programs_path }}/phpcs"
phpcs_temp_phar: "{{ download_dir }}/phpcs.phar"
phpcs_temp_path: "{{ download_dir }}/phpcs"

# PHPcbf
phpcbf_stable_release: 2.6.1
phpcbf_download_link: https://github.com/squizlabs/PHP_CodeSniffer/releases/download/{{ phpcbf_stable_release }}/phpcbf.phar
phpcbf_binary: "{{ user_programs_path }}/phpcbf"
phpcbf_temp_phar: "{{ download_dir }}/phpcbf.phar"
phpcbf_temp_path: "{{ download_dir }}/phpcbf"

# CodeSniffer
codesniffer_extensions: php,module,inc,install,test,profile,theme
codesniffer_binary: "{{ composer_dir_path }}/vendor/drupal/coder/coder_sniffer"

# PHP-CS-Fixer
php_cs_fixer_stable_release: 1.12.2
php_cs_fixer_download_link: https://github.com/FriendsOfPHP/PHP-CS-Fixer/releases/download/v{{ php_cs_fixer_stable_release }}/php-cs-fixer.phar
php_cs_fixer_binary: "{{ user_programs_path }}/php-cs-fixer"
php_cs_fixer_temp_phar: "{{ download_dir }}/php-cs-fixer.phar"
php_cs_fixer_temp_path: "{{ download_dir }}/php-cs-fixer"

# PhantomJS
phantomjs_stable_version: 2.1.1
phantomjs_download_link: https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-{{ phantomjs_stable_version }}-linux-x86_64.tar.bz2
phantomjs_binary: "{{ user_programs_path }}/phantomjs"
phantomjs_temp_path: "{{ download_dir }}/phantomjs-{{ phantomjs_stable_version }}-linux-x86_64"
phantomjs_archive_path: "{{ phantomjs_temp_path }}.tar.bz2"

# PHPmd
phpmd_stable_version: 2.6.0
phpmd_download_link: http://static.phpmd.org/php/{{ phpmd_stable_version }}/phpmd.phar
phpmd_binary: "{{ user_programs_path }}/phpmd"

# MySQL
my_cnf: /etc/mysql/my.cnf
mysqld_cnf: /etc/mysql/mysql.conf.d/mysqld.cnf
mysql_data: /var/lib/mysql
mysql_backup_dir: "{{ mysql_data }}/backup"
mysql_creds: root
mysql_port: 3306
mysql_stable_release: 5.5
mysql_apt_config_tool: 0.7.3-1
mysql_apt_repo: http://dev.mysql.com/get/mysql-apt-config_{{ mysql_apt_config_tool }}_all.deb
mysql_backup_source_file: "{{ source_file_dir }}/mysql-backup.sh"
mysql_backup_path: "{{ user_programs_path }}/mysql-backup.sh"

# phpMyAdmin
phpmyadmin_stable_release: 4.7.0
phpmyadmin_archive_filename: phpMyAdmin-{{ phpmyadmin_stable_release }}-english.tar.gz
phpmyadmin_download_link: https://files.phpmyadmin.net/phpMyAdmin/{{ phpmyadmin_stable_release }}/{{ phpmyadmin_archive_filename }}
phpmyadmin_archive_path: "{{ download_dir }}/phpMyAdmin-{{ phpmyadmin_stable_release }}-english.tar.gz"
phpmyadmin_temp_dirname: phpMyAdmin-{{ phpmyadmin_stable_release }}-english
phpmyadmin_root: "{{ webroot }}/phpmyadmin"
phpmyadmin_config_sample: "{{ phpmyadmin_root }}/config.sample.inc.php"
phpmyadmin_config: "{{ phpmyadmin_root }}/config.inc.php"
phpmyadmin_release_date_file: "{{ phpmyadmin_root }}/RELEASE-DATE-{{ phpmyadmin_stable_release }}"
phpmyadmin_hostname: phpmyadmin

# Adminer
adminer_stable_release: 4.3.1
adminer_download_link: https://github.com/vrana/adminer/releases/download/v{{ adminer_stable_release }}/adminer-{{ adminer_stable_release }}-en.php
adminer_root: "{{ webroot }}/adminer"
adminer_index: "{{ adminer_root }}/index.php"
adminer_hostname: adminer

# mcstat
mcstat_binary: "{{ user_programs_path }}/mcstat"
mcstat_stable_release: 1.1.0
mcstat_download_link: https://github.com/webbj74/mcstat/archive/{{ mcstat_stable_release }}.tar.gz
mcstat_archive_file: mcstat-{{ mcstat_stable_release }}.tar.gz
mcstat_unarchived_directory: mcstat-{{ mcstat_stable_release }}
mcstat_archive_path: "{{ download_dir }}/{{ mcstat_archive_file }}"

# Drupal
drupal_creds: admin
default_site: docroot/sites/default
default_configuration_dir: config/default
drupal_head: 8.4.x
drupal_git_clone_url: https://git.drupal.org/project/drupal.git
drupal_git_clone_path: "{{ git_repo_directory }}/drupal"
drupal_root: "{{ webroot }}/{{ sitename }}"
deployed_settings_php: "{{ drupal_root }}/{{default_site}}/settings.php"
services_yml_template: "{{ drupal_root }}/{{default_site}}/default.services.yml"
deployed_services_yml: "{{ drupal_root }}/{{default_site}}/services.yml"
settings_local_php_template: "{{ drucker_docroot }}/sites/example.settings.local.php"
deployed_settings_local_php: "{{ drupal_root }}/{{default_site}}/settings.local.php"

# drucker Drupal
drucker_site: "{{ webroot }}/{{ user }}"
drucker_docroot: "{{ drucker_site }}/docroot"
drupal_git: "{{ drucker_site }}/.git"
drupal_gitignore: "{{ drucker_site }}/.gitignore"
default_settings_php: "{{ drucker_site }}/{{default_site}}/default.settings.php"
settings_php: "{{ drucker_site }}/{{default_site}}/settings.php"
default_services_yml: "{{ drucker_site }}/{{default_site}}/default.services.yml"
example_settings_local_php: "{{ drucker_docroot }}/sites/example.settings.local.php"
settings_local_php: "{{ drucker_site }}/{{default_site}}/settings.local.php"
services_yml: "{{ drucker_site }}/{{default_site}}/services.yml"
files_dir: "{{ drucker_site }}/{{default_site}}/files"
libraries_dir: "{{ drucker_docroot }}/libraries"
simpletest_dir: "{{ drucker_docroot }}/sites/simpletest"
phpunit_xml: "{{ drucker_docroot }}/core/phpunit.xml"

# Import
import_dir: "{{ webroot }}/import"
imported_site_aliases: "{{ drush_aliases_path }}/{{ sitename }}.aliases.drushrc.php"
archives_dir: "{{ webroot }}/import/archives"
import_archive_path: "{{ archives_dir }}/{{ sitename }}"
import_sqlgz: "{{ import_dir }}/{{ sitename }}.sql.gz"
import_sql: "{{ import_dir }}/{{ sitename }}.sql"
importable_sitename_path: "{{ import_dir }}/{{ sitename }}"

# Drush
drush_aliases_template_file: drush.aliases.drushrc.php
drush_aliases_source_file: "{{ source_file_dir }}/{{ drush_aliases_template_file }}"
drush_aliases_path: /etc/drush/site-aliases
drush_aliases_filepath: "{{ drush_aliases_path }}/{{ drush_aliases_template_file }}"
drush_unstable_release: 9.0-dev-dev
drush_download_link: https://s3.amazonaws.com/files.drush.org/drush-unstable.phar
drush_binary: "{{ user_programs_path }}/drush"
drush_dir: "{{ home }}/.drush"

drucker_aliases: "{{ drush_aliases_path }}/{{ user }}.aliases.drushrc.php"

# Drupal Console
drupal_console_launcher_stable_release: 1.0.0-rc16
drupal_console_composer_package: drupal/console
drupal_console_composer_package_version: ~1.0
drupal_console_launcher_download_link: https://github.com/hechoendrupal/drupal-console-launcher/releases/download/{{ drupal_console_launcher_stable_release }}/drupal.phar
drupal_console_binary: "{{ user_programs_path }}/drupal"
drupal_console_config_file: "{{ home }}/.console/config.yml"

# Varnish
varnish_source: 4.1
varnish_gpg_key: https://repo.varnish-cache.org/GPG-key.txt
varnish_deb: deb https://repo.varnish-cache.org/debian/ {{ codename }} varnish-{{ varnish_source }}
varnish_stable_release: 4.0.2.1
reverse_proxy_port: 80
varnish_config: /etc/default/varnish
varnish_default_path: /etc/varnish
varnish_default_vcl: "{{ varnish_default_path }}/default.vcl"
varnish_source_list_path: "{{ sources_list_d }}/repo_varnish_cache_org_debian.list"

# nginx
nginx_port: 8080
nginx_source_list_path: "{{ sources_list_d }}/nginx_org_packages_debian.list"
nginx_signing_key: http://nginx.org/keys/nginx_signing.key
nginx_deb: deb http://nginx.org/packages/debian/ {{ codename }} nginx
nginx_deb_src: deb-src http://nginx.org/packages/debian/ {{ codename }} nginx
nginx_conf_dir: /etc/nginx
nginx_conf_d: "{{ nginx_conf_dir }}/conf.d"
nginx_default_template: "{{ nginx_conf_dir }}/nginx-template.conf"
nginx_default_conf: "{{ nginx_conf_d }}/default.conf"
nginx_default_site: "{{ nginx_conf_dir }}/sites-enabled/default"
nginx_conf: "{{ nginx_conf_dir }}/nginx.conf"
drucker_nginx_vhost: "{{ nginx_conf_d }}/{{ user }}.conf"
client_max_body_size: 100m

# Apache Solr
solr_port: 8983
solr_core: "{{ user }}"
solr_configuration_path: /opt/solr/server/solr/{{ solr_core }}/conf
solr_binary: /opt/solr/bin/solr
